# Pro-Lab6-ITMO-2020

**Variant**: 3132302

#### Commands:
* The operating mode is defined by the environment variable mode
* For remote server mode-Dmode=server
* To work in client mode, to connect to the server-Dmode=client

**Client:** 

First represents the mode of operating, second the port to the server we want to connect
```
java -jar Progra_Lab6.jar -Dmode=client 5433
```

First represents the mode of operating, second the port to the server we want to connect and the last is the name of the file from which we take the Dragons for the collection.

**Server:** 
```
java -jar Progra_Lab6.jar -Dmode=server 5433 data.xml
```

#### Необходимо выполнить следующие требования:
* Операции обработки объектов коллекции должны быть реализованы с помощью Stream API с использованием лямбда-выражений.
* Объекты между клиентом и сервером должны передаваться в сериализованном виде.
* Объекты в коллекции, передаваемой клиенту, должны быть отсортированы по имени
* Клиент должен корректно обрабатывать временную недоступность сервера.
* Обмен данными между клиентом и сервером должен осуществляться по протоколу UDP
* Для обмена данными на сервере необходимо использовать сетевой канал
* Для обмена данными на клиенте необходимо использовать датаграммы
* Сетевые каналы должны использоваться в неблокирующем режиме.

#### Обязанности серверного приложения:
* Работа с файлом, хранящим коллекцию.
* Управление коллекцией объектов.
* Назначение автоматически генерируемых полей объектов в коллекции.
* Ожидание подключений и запросов от клиента.
* Обработка полученных запросов (команд)

#### Серверное приложение должно состоять из следующих модулей (реализованных в виде одного или нескольких классов):
* Модуль приёма подключений.
* Модуль чтения запроса.
* Модуль обработки полученных команд.
* Модуль отправки ответов клиенту.
* Сервер должен работать в однпоточном режиме.
* Обязанности клиентского приложения:

### Чтение команд из консоли.
* Валидация вводимых данных.
* Сериализация введённой команды и её аргументов.
* Отправка полученной команды и её аргументов на сервер.
* Обработка ответа от сервера (вывод результата исполнения команды в консоль).

**Важно!** Команды и их аргументы должны представлять из себя объекты классов. Недопустим обмен "простыми" строками. Так, для команды add или её аналога необходимо сформировать объект, содержащий тип команды и объект, который должен храниться в вашей коллекции.

#### Дополнительное задание:
Реализовать логирование различных этапов работы сервера (начало работы, получение нового подключения, получение нового запроса, отправка ответа и т.п.) с помощью **Log4J2**